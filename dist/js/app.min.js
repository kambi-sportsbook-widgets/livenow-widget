(function(){var e;e=["widgetCore","widgetCore.translate","ngAnimate"],function(e){"use strict";return e}(angular.module("livenowWidget",e))}).call(this),function(){"use strict";function e(t,i,n,r,o,s){angular.extend(e,r("widgetCoreController",{$scope:t})),t.defaultArgs={listLimit:1,useFilter:!1,fallBackFilter:"all/all/all/"},t.initialListLimit=t.defaultArgs.listLimit,t.liveEvents=[],t.pages=[],t.startFrom=0,t.defaultHeight=515,t.enableAnimation=!0,i.requestPageInfo(),0===t.initialListLimit&&(t.initialListLimit=3),t.getLiveEvents=function(e){return t.loading=!0,t.args.useFilter?t.apiService=n.getLiveEventsByFilter:t.apiService=n.getLiveEvents,t.apiService(e).then(function(e){t.liveEvents=e.data.liveEvents,t.setPages(t.liveEvents,t.args.listLimit),i.requestBetslipOutcomes(),o.stop(),o.start(),s(function(){t.enableAnimation=!0},300)},function(e){})["finally"](function(){t.initialListLimit>t.liveEvents.length&&(t.args.listLimit=t.liveEvents.length),t.liveEvents&&t.liveEvents.length>0?i.setWidgetHeight(145*t.args.listLimit+74):i.setWidgetHeight(0),t.loading=!1})},t.toggleOutcome=function(e){e.selected!==!0?t.addOutcomeToBetslip(e):t.removeOutcomeFromBetslip(e)},t.updateOutcomes=function(e){for(var i=0,n=t.liveEvents.length;n>i;++i)null!=t.liveEvents[i].mainBetOffer&&null!=t.liveEvents[i].mainBetOffer.outcomes&&t.updateBetOfferOutcomes(t.liveEvents[i].mainBetOffer,e);t.$apply()},t.init().then(function(){"filter"===t.pageInfo.pageType?t.params=t.pageInfo.pageParam:t.params=t.args.fallBackFilter,t.getLiveEvents(t.params)}),t.$on("OUTCOMES:UPDATE",function(e,i){t.updateOutcomes(i.outcomes)}),t.$on("ODDS:FORMAT",function(e,i){t.setOddsFormat(i)}),t.$on("TIMER:UPDATE",function(e,i){i%30===0&&(t.enableAnimation=!1,t.getLiveEvents(t.params))})}!function(t){return t.controller("appController",["$scope","kambiWidgetService","kambiAPIService","$controller","timerService","$timeout",e])}(angular.module("livenowWidget"))}.call(this),function(){"use strict";!function(e){return e.directive("timerDirective",[function(){return{restrict:"E",scope:{index:"=",timer:"="},template:'<span ng-if="minute || second" ng-cloak>{{minute}} : {{second}}</span>',controller:["$scope","$rootScope","timerService",function(e,t,i){var n=function(e){return 10>e&&(e="0"+e),e},r=function(e){var t=parseInt(e,10),i=Math.floor(t/60),r=t-60*i;return{minutes:n(i),seconds:n(r)}},o=function(t){var i=60*e.timer.minute+e.timer.second+t;e.timer.running&&(e.second=r(i).seconds,e.minute=r(i).minutes)};e.timer.running===!1?(e.minute=n(e.timer.minute),e.second=n(e.timer.second)):o(i.seconds),t.$on("TIMER:UPDATE",function(e,t){o(t)})}]}}])}(angular.module("livenowWidget"))}(),function(){"use strict";!function(e){return e.service("timerService",["$rootScope","$interval",function(e,t){var i={};return i.seconds=0,i.start=function(){i.interval=t(function(){i.seconds++,e.$broadcast("TIMER:UPDATE",i.seconds)},1e3)},i.stop=function(){i.seconds=0,t.cancel(i.interval)},i}])}(angular.module("livenowWidget"))}();