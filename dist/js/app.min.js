(function(){var e;e=["widgetCore","widgetCore.translate","ngAnimate"],function(e){"use strict";return e}(angular.module("livenowWidget",e))}).call(this),function(){"use strict";function e(t,n,i,r,o,s){angular.extend(e,r("widgetCoreController",{$scope:t})),t.defaultArgs={listLimit:1,useFilter:!1,fallBackFilter:"all/all/all/"},t.initialListLimit=t.defaultArgs.listLimit,t.events=[],t.pages=[],t.startFrom=0,t.defaultHeight=515,t.enableAnimation=!0,0===t.initialListLimit&&(t.initialListLimit=3),t.getLiveEvents=function(e){return t.loading=!0,t.args.useFilter?t.apiService=i.getLiveEventsByFilter:t.apiService=i.getLiveEvents,t.apiService(e).then(function(e){null!=e.data.events?t.events=e.data.events:t.events=[],t.setPages(t.events,t.args.listLimit),n.requestBetslipOutcomes(),o.stop(),o.start(),s(function(){t.enableAnimation=!0},300)},function(e){})["finally"](function(){t.initialListLimit>t.events.length&&(t.args.listLimit=t.events.length),t.events&&t.events.length>0?n.setWidgetHeight(145*t.args.listLimit+74):n.setWidgetHeight(0),t.loading=!1})},t.toggleOutcome=function(e){e.selected!==!0?t.addOutcomeToBetslip(e):t.removeOutcomeFromBetslip(e)},t.updateOutcomes=function(e){for(var n=0,i=t.events.length;i>n;++n)null!=t.events[n].betOffers[0]&&null!=t.events[n].betOffers[0].outcomes&&t.updateBetOfferOutcomes(t.events[n].betOffers[0],e);t.$apply()},t.init().then(function(){"filter"===t.pageInfo.pageType?t.params=t.pageInfo.pageParam:t.params=t.args.fallBackFilter,t.getLiveEvents(t.params)}),t.$on("OUTCOMES:UPDATE",function(e,n){t.updateOutcomes(n.outcomes)}),t.$on("ODDS:FORMAT",function(e,n){t.setOddsFormat(n)}),t.$on("TIMER:UPDATE",function(e,n){n%30===0&&(t.enableAnimation=!1,t.getLiveEvents(t.params))})}!function(t){return t.controller("appController",["$scope","kambiWidgetService","kambiAPIService","$controller","timerService","$timeout",e])}(angular.module("livenowWidget"))}.call(this),function(){"use strict";!function(e){return e.service("timerService",["$rootScope","$interval",function(e,t){var n={};return n.seconds=0,n.start=function(){n.interval=t(function(){n.seconds++,e.$broadcast("TIMER:UPDATE",n.seconds)},1e3)},n.stop=function(){n.seconds=0,t.cancel(n.interval)},n}])}(angular.module("livenowWidget"))}(),function(){"use strict";!function(e){return e.directive("timerDirective",[function(){return{restrict:"E",scope:{index:"=",timer:"="},template:'<span ng-if="minute || second" ng-cloak>{{minute}} : {{second}}</span>',controller:["$scope","$rootScope","timerService",function(e,t,n){var i=function(e){return 0>e&&(e=0),10>e&&(e="0"+e),e},r=function(e){var t=parseInt(e,10),n=Math.floor(t/60),r=t-60*n;return{minutes:i(n),seconds:i(r)}},o=function(t){if(e.timer&&e.timer.running){var n=60*e.timer.minute+e.timer.second+t;e.second=r(n).seconds,e.minute=r(n).minutes}};e.timer&&(e.timer.running===!1?(e.minute=i(e.timer.minute),e.second=i(e.timer.second)):o(n.seconds)),t.$on("TIMER:UPDATE",function(e,t){o(t)})}]}}])}(angular.module("livenowWidget"))}();