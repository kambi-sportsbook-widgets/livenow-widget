"use strict";!function(){var e=CoreLibrary.Component.subclass({defaultArgs:{listLimit:1,fallBackFilter:"all/all/all/"},constructor:function(){CoreLibrary.Component.apply(this,arguments)},init:function(){this.scope.events=[],this.timer=null,this.updateTimer=null;var e;e="filter"===CoreLibrary.pageInfo.pageType?CoreLibrary.pageInfo.pageParam:this.scope.args.fallBackFilter,this.getLiveEvents(e)},startTimer:function(){this.timerCount=0,this.updateTimers()},timerTick:1e3,parseTime:function(e,t,i){var e=parseInt(e,10),t=parseInt(t,10);if(i){var n=this.timerTick*this.timerCount/1e3,s=60*t+e+n;t=String(Math.floor(s/60)),e=String(Math.floor(s%60))}return 1===t.length&&(t="0"+t),1===e.length&&(e="0"+e),t+" : "+e},updateTimers:function(){var e=this;this.timerCount++,this.scope.events.forEach(function(t){if(null==t.liveData||null==t.liveData.matchClock)t.timer=null;else{var i=t.liveData.matchClock;t.timer=e.parseTime(i.second,i.minute,i.running)}}),clearTimeout(this.timer),this.timer=setTimeout(function(){e.updateTimers()},this.timerTick)},getLiveEvents:function(e){var t=this;return e="football/all/all/",CoreLibrary.offeringModule.getLiveEventsByFilter(e).then(function(i){clearTimeout(t.updateTimer),null!=i.events?(i.events.forEach(function(e){null!=e.betOffers&&e.betOffers.length>=1&&(e.betOffers=e.betOffers[0],e.betOffers.outcomesLength=e.betOffers.outcomes.length),e.navigateToLiveEvent=function(e){CoreLibrary.widgetModule.navigateToLiveEvent(e)}.bind(t,e.event.id),e.liveData&&e.liveData.statistics&&e.liveData.statistics.setBasedStats&&e.liveData.statistics.setBasedStats.home.length?e.showScore=!0:e.showScore=!1}),t.scope.events=i.events,t.scope.eventsLength=i.events.length):(t.scope.events=[],t.scope.eventsLength=0),CoreLibrary.widgetModule.requestBetslipOutcomes(),t.scope.events&&t.scope.events.length>0?CoreLibrary.widgetModule.setWidgetHeight(145*t.scope.args.listLimit+74):CoreLibrary.widgetModule.setWidgetHeight(0),t.pagination=new CoreLibrary.PaginationComponent("#pagination",t.scope,"events",t.scope.args.listLimit),t.startTimer(),t.updateTimer=setTimeout(function(){t.getLiveEvents(e)},3e4)})["catch"](function(i){throw t.updateTimer=setTimeout(function(){t.getLiveEvents(e)},3e4),i})}});new e({rootElement:"html"})}();